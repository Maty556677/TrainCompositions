function applyTranslations(e){const t=translations[e]||{};document.querySelectorAll("body *").forEach((e=>{e.childNodes.forEach((e=>{e.nodeType===Node.TEXT_NODE&&(e.textContent=e.textContent.replace(/\[(.*?)\]/g,((e,a)=>t[a]||e)))})),["title","placeholder","alt","aria-label"].forEach((a=>{const l=e.getAttribute(a);l&&e.setAttribute(a,l.replace(/\[(.*?)\]/g,((e,a)=>t[a]||e)))}))}))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("languageSelector");let t=localStorage.getItem("lang");if(!t){const e=navigator.language.slice(0,2);t=translations[e]?e:"en",localStorage.setItem("lang",t)}e.value=t,applyTranslations(t),e.addEventListener("change",(e=>{const t=e.target.value;localStorage.setItem("lang",t),applyTranslations(t),location.reload()}))}));const observer=new MutationObserver((()=>{applyTranslations(localStorage.getItem("lang")||"en")}));function updateSelectFlag(){const e=document.getElementById("languageSelector").querySelector(".select-selected img"),t=localStorage.getItem("lang")||"cs";e.src=`/flags/${t}.svg`,e.alt=t.toUpperCase()}observer.observe(document.body,{childList:!0,subtree:!0}),document.getElementById("languageSelector").addEventListener("change",updateSelectFlag),document.addEventListener("DOMContentLoaded",updateSelectFlag),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("languageSelector"),t=e.querySelector(".select-selected"),a=e.querySelector(".select-items");t.addEventListener("click",(function(e){e.stopPropagation(),a.classList.toggle("select-hide"),t.classList.toggle("select-arrow-active")})),a.addEventListener("click",(function(l){const n=l.target.closest("[data-value]");if(!n)return;const c=n.dataset.value,o=n.querySelector("img").src;t.querySelector("img").src=o;const s=new CustomEvent("change",{detail:{value:c}});e.dispatchEvent(s),localStorage.setItem("lang",c),updateSelectFlag(),applyTranslations(c),a.classList.add("select-hide"),t.classList.remove("select-arrow-active")})),document.addEventListener("click",(function(){a.classList.add("select-hide"),t.classList.remove("select-arrow-active")}));const l=localStorage.getItem("lang")||"cs",n=a.querySelector(`[data-value="${l}"]`);if(n){const e=n.querySelector("img").src;t.querySelector("img").src=e}}));